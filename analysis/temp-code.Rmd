---
title: "temp-code"
author: "Genevieve Housman"
date: "8/11/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Temporary storage of code that needs to be moved to different .Rmd files.

```{r process scRNA data - filter out mitochondrial genes from data}

### NO LONGER NEED TO REMOVE MITO GENES FOR ORTHO-EXON V2 ###

#Read in files
data <- readRDS("./data/cellranger-data-full/data.rds")

#Remove mitochondrial genes
mito <- c("MT-ATP6","MT-ATP8","MT-CO1","MT-CO2","MT-CO3","MT-CYB","MT-ND1","MT-ND2","MT-ND3","MT-ND4","MT-ND4L","MT-ND5")
objects <- list()
for (i in 1:length(data))
{
  print(i)
  genes <- which(!(data[[i]]@assays$RNA@counts@Dimnames[[1]] %in% mito))
  obj <- subset(data[[i]], features=genes)
  objects[[i]] <- CreateSeuratObject(obj@assays$RNA@counts, meta.data=obj@meta.data)
}
rm(data,obj)

#Save data
saveRDS(objects, file="./data/cellranger-data-full/data.rds")

```
